<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Je n'ai aucune id√©e de la mani√®re de commencer √† r√©soudre cette mission.
    </div>
    <div class="answer">
        <p>
            Attrapez une id√©e üí°! It√©rer sur la cha√Æne donn√©e et, en fonction du caract√®re (signe, point ou chiffre), modifier la cha√Æne obtenue.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, par quoi dois-je commencer?
    </div>
    <div class="answer">
        <p>
            Vous devez d√©clarer des variables pour les r√©sultats suivants: cha√Æne <b class="code">res</b>, nombre sing <b class="code">sign</b> et point <b class="code">dot</b> avec les valeurs initiales suivantes: lignes vides et logique <b class="code">False</b>:
        </p>
        <pre class="brush: python">
res = sign = ""
dot = False
        </pre>
        <p>
            Comme une cha√Æne peut √™tre interpr√©t√©e comme une s√©quence en Python, vous pouvez it√©rer sur la cha√Æne donn√©e <b class="code">line</b> √† l'aide de la boucle <a target="_blank" href="https://www.w3schools.com/python/python_for_loops.asp">for</a>.
        </p>
        <pre class="brush: python">
for char in line:
    ...
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Que faire de chaque caract√®re √† l'int√©rieur de la boucle?
    </div>
    <div class="answer">
        <p>
            Nous nous int√©ressons √† trois cas: un <b class="code">char</b> est un signe num√©rique (+-), un point (.) et un chiffre (0-9). Utilisez l'instruction <a target="_blank" href="https://www.w3schools.com/python/gloss_python_elif.asp">if/elif</a> pour traiter ces cas. 
        </p>
        <p>
            D√©crivons le premier cas. Vous avez besoin d'un caract√®re dans <b class="code">"+-"</b> et la cha√Æne r√©sultante <b class="code">res</b> doit √™tre vide, car vous ne prenez en compte les signes qu'avant l'apparition du premier chiffre et leur ajout √† la cha√Æne r√©sultante. Voici √† quoi cela ressemble:
        </p>
        <pre class="brush: python">
if char in "+-" and not res:
    ...
        </pre>
        <p>
            Dans ce cas, il vous suffit de mettre √† jour une valeur de la variable <b class="code">sign</b> avec "-" si le caract√®re est "-". Si le caract√®re est "+", vous pouvez laisser <b class="code">sign</b> vide puisque les nombres positifs n'ont pas besoin du signe plus avant. Vous pouvez l'√©crire de la mani√®re suivante.
        </p>
        <pre class="brush: python">
if char in "+-" and not res:
    sign = "-"*(char == "-")
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Comment d√©crire le deuxi√®me cas?
    </div>
    <div class="answer">
        <p>
            D'apr√®s la description, vous ne prenez en consid√©ration que le premier point. Ainsi, si votre <b class="code">dot</b> est √©gal √† <b class="code">False</b> et que le caract√®re courant est un point, vous pouvez √©crire le cas suivant:
        </p>
        <pre class="brush: python">
elif char == "." and not dot:
    ...
        </pre>
        <p>
            Dans ce cas, vous devez mettre √† jour la valeur de <b class="code">dot</b> en <b class="code">True</b> (vous n'avez pas besoin de points suppl√©mentaires dans votre cha√Æne r√©sultante) et ajouter ce point √† la cha√Æne r√©sultante. 
        </p>
        <pre class="brush: python">
elif char == "." and not dot:
    dot = True
    res += "."
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Que faire avec les autres caract√®res?
    </div>
    <div class="answer">
        <p>
            Sinon, v√©rifiez si le caract√®re est un chiffre avec la m√©thode <a target="_blank" href="https://www.w3schools.com/python/ref_string_isdigit.asp">str.isdigit()</a>. Si c'est le cas, ajoutez le caract√®re √† la cha√Æne obtenue.
        </p>
        <pre class="brush: python">
elif char.isdigit():
    res += char
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Comment convertir la cha√Æne de caract√®res obtenue en un nombre appropri√©?
    </div>
    <div class="answer">
        <p>
            Notez que vous n'avez besoin d'une conversion que si la cha√Æne obtenue n'est pas vide. Dans le cas contraire, la fonction renvoie <b class="code">None</b> (ce dont nous avons besoin si le nombre n'est pas pr√©sent dans la cha√Æne donn√©e).
        </p>
        <pre class="brush: python">
if res:
    ...
        </pre>
        <p>
            Le nombre dont vous avez besoin se compose du signe et de la cha√Æne r√©sultante.
        </p>
        <pre class="brush: python">
...(sign + res)
        </pre>
        <p>
            C'est un moment d√©licat, soyez donc attentif. Si le point se trouve dans <b class="code">res</b> (<b class="code">dot</b> est √©gal √† <b class="code">True</b>), vous devez convertir ce nombre en flottant √† l'aide de la fonction int√©gr√©e <a target="_blank" href="https://www.w3schools.com/python/ref_func_float.asp">float()</a>. Sinon (pas de point) - convertissez ce nombre en entier avec la fonction int√©gr√©e <a target="_blank" href="https://www.w3schools.com/python/ref_func_int.asp">int()</a>. 
        </p>
        <p>
            Comme les valeurs logiques peuvent √™tre interpr√©t√©es comme des entiers (0 pour <b class="code">False</b>, 1 pour <b class="code">True</b>), vous pouvez utiliser la valeur <b class="code">dot</b> comme index d'un tuple avec deux fonctions et la concat√©ner avec l'expression ci-dessus entre parenth√®ses comme argument.
        </p>
        <pre class="brush: python">
return (int, float)[dot](sign + res)
        </pre>
        <p>
            Notez que vous faites r√©f√©rence aux fonctions √† l'int√©rieur de la premi√®re parenth√®se, sans les appeler, et qu'il n'y a donc pas de parenth√®ses √† proximit√© de chaque fonction.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Alors, √† quoi devrait ressembler ma solution finale?
    </div>
    <div class="answer">
        <p>
            Il vous suffit de combiner tous les indices pr√©c√©dents et d'envelopper votre code dans une expression de fonction. Il est fortement recommand√© d'utiliser des indications de type pour les donn√©es d'entr√©e et de sortie.
        </p>
        <p>Voici la solution compl√®te:</p>
        <div class="spoiler">
        <pre class="brush: python">
def reveal_num(line: str) -> int | float | None:

    res = sign = ""
    dot = False
    for char in line:
        if char in "+-" and not res:
            sign = "-"*(char == "-")
        elif char == "." and not dot:
            dot = True
            res += "."
        elif char.isdigit():
            res += char
    if res:
        return (int, float)[dot](sign + res)
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Montrez-moi d'autres solutions!<br />
        parce que je veux √™tre une vraie ü•á Python Ninnjaa!
    </div>
    <div class="answer">
        <p>Bien s√ªr, prenez-le!</p>
        <p>
            En utilisant le module d'expression r√©guli√®re a trouv√© le dernier signe avant le premier chiffre, divis√© la cha√Æne donn√©e entre les points et construit une expression finale.
        </p>
        <div class="spoiler">
        <pre class="brush: python">
from re import sub


def reveal_num(line: str) -> int | float | None:

    sign = sub(r'\D*(\+|-).*', r'\1', '+' + line)
    p1, *p2 = sub(r'[^0-9.]', r'', line).split('.')

    return eval(f'{sign}{p1}.{"".join(p2)}') if p1 or p2 else None
        </pre>
        </div>
        <p>Cliquez sur <b>Best Solutions</b> dans le menu mission et d√©couvrez de nombreuses autres solutions int√©ressantes!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Merci beaucoup! Je comprends mieux maintenant! Tout fonctionne bien!
    </div>
    <div class="answer">
        Heureux de l'apprendre üëç!
    </div>
</div>
</body>