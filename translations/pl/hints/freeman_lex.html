<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Nie mam pojÄ™cia, jak zaczÄ…Ä‡ rozwiÄ…zywaÄ‡ tÄ™ misjÄ™.
    </div>
    <div class="answer">
        <p>
            ProszÄ™ zÅ‚apaÄ‡ jakiÅ› pomysÅ‚ ğŸ’¡! Aby iterowaÄ‡ po podanym ciÄ…gu i w zaleÅ¼noÅ›ci od znaku (znak, kropka lub cyfra) modyfikowaÄ‡ wynikowy ciÄ…g.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, od czego powinienem zaczÄ…Ä‡?
    </div>
    <div class="answer">
        <p>
            Musi Pan zadeklarowaÄ‡ zmienne dla wynikÃ³w string <b class="code">res</b>, number sing <b class="code">sign</b> i dot <b class="code">dot</b> z nastÄ™pujÄ…cymi wartoÅ›ciami poczÄ…tkowymi empty lines i logic <b class="code">False</b>:
        </p>
        <pre class="brush: python">
res = sign = ""
dot = False
        </pre>
        <p>
            PoniewaÅ¼ ciÄ…g znakÃ³w moÅ¼e byÄ‡ interpretowany jako sekwencja w Pythonie, moÅ¼na iterowaÄ‡ po podanym <b class="code">line</b> za pomocÄ… pÄ™tli <a target="_blank" href="https://www.w3schools.com/python/python_for_loops.asp">for</a>.
        </p>
        <pre class="brush: python">
for char in line:
    ...
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Co zrobiÄ‡ z kaÅ¼dym znakiem wewnÄ…trz pÄ™tli?
    </div>
    <div class="answer">
        <p>
            InteresujÄ… nas trzy przypadki: <b class="code">char</b> jest znakiem numerycznym (+-), kropkÄ… (.) i cyfrÄ… (0-9). ProszÄ™ uÅ¼yÄ‡ instrukcji <a target="_blank" href="https://www.w3schools.com/python/gloss_python_elif.asp">if/elif</a>, aby obsÅ‚uÅ¼yÄ‡ te przypadki. 
        </p>
        <p>
            ProszÄ™ opisaÄ‡ pierwszy przypadek. Potrzebny jest znak w <b class="code">"+-"</b>, a wynikowy ciÄ…g <b class="code">res</b> musi byÄ‡ pusty, poniewaÅ¼ uwzglÄ™dnia siÄ™ znaki tylko przed pojawieniem siÄ™ pierwszej cyfry i dodaniem jej do wynikowego ciÄ…gu. Tak to wyglÄ…da:
        </p>
        <pre class="brush: python">
if char in "+-" and not res:
    ...
        </pre>
        <p>
            W tym przypadku wystarczy zaktualizowaÄ‡ wartoÅ›Ä‡ zmiennej <b class="code">sign</b> o "-", jeÅ›li znak to "-". JeÅ›li znakiem jest "+", moÅ¼na pozostawiÄ‡ <b class="code">sign</b> puste, poniewaÅ¼ liczby dodatnie nie potrzebujÄ… wczeÅ›niej znaku plus. MoÅ¼na to zapisaÄ‡ w nastÄ™pujÄ…cy sposÃ³b.
        </p>
        <pre class="brush: python">
if char in "+-" and not res:
    sign = "-"*(char == "-")
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak opisaÄ‡ drugi przypadek?
    </div>
    <div class="answer">
        <p>
            Zgodnie z opisem, biorÄ… PaÅ„stwo pod uwagÄ™ tylko pierwszÄ… kropkÄ™. JeÅ›li wiÄ™c PaÅ„stwa <b class="code">dot</b> jest rÃ³wne <b class="code">False</b>, a bieÅ¼Ä…cym znakiem jest kropka, mogÄ… PaÅ„stwo napisaÄ‡ nastÄ™pujÄ…cy przypadek:
        </p>
        <pre class="brush: python">
elif char == "." and not dot:
    ...
        </pre>
        <p>
            W tym przypadku musi Pan zaktualizowaÄ‡ wartoÅ›Ä‡ <b class="code">dot</b> do <b class="code">True</b> (nie potrzebuje Pan wiÄ™cej kropek w wynikowym ciÄ…gu) i dodaÄ‡ tÄ™ kropkÄ™ do wynikowego ciÄ…gu. 
        </p>
        <pre class="brush: python">
elif char == "." and not dot:
    dot = True
    res += "."
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Co zrobiÄ‡ z innymi znakami?
    </div>
    <div class="answer">
        <p>
            W przeciwnym razie proszÄ™ sprawdziÄ‡, czy znak jest cyfrÄ… za pomocÄ… metody <a target="_blank" href="https://www.w3schools.com/python/ref_string_isdigit.asp">str.isdigit()</a>. JeÅ›li tak - proszÄ™ dodaÄ‡ znak do wynikowego ciÄ…gu.
        </p>
        <pre class="brush: python">
elif char.isdigit():
    res += char
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak przekonwertowaÄ‡ wynikowy ciÄ…g na odpowiedniÄ… liczbÄ™?
    </div>
    <div class="answer">
        <p>
            ProszÄ™ zauwaÅ¼yÄ‡, Å¼e konwersja jest potrzebna tylko wtedy, gdy wynikowy ciÄ…g nie jest pusty. W przeciwnym razie funkcja zwraca <b class="code">None</b> (czego potrzebujemy w przypadku, gdy liczba nie wystÄ™puje w podanym ciÄ…gu).
        </p>
        <pre class="brush: python">
if res:
    ...
        </pre>
        <p>
            Potrzebna liczba skÅ‚ada siÄ™ ze znaku i wynikowego ciÄ…gu znakÃ³w.
        </p>
        <pre class="brush: python">
...(sign + res)
        </pre>
        <p>
            Teraz jest trudny moment, wiÄ™c proszÄ™ byÄ‡ uwaÅ¼nym. JeÅ›li kropka znajduje siÄ™ w <b class="code">res</b> (<b class="code">dot</b> rÃ³wna siÄ™ <b class="code">True</b>), naleÅ¼y przekonwertowaÄ‡ tÄ™ liczbÄ™ na float za pomocÄ… wbudowanej funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_float.asp">float()</a>. W przeciwnym razie (bez kropki) - proszÄ™ przekonwertowaÄ‡ na liczbÄ™ caÅ‚kowitÄ… za pomocÄ… wbudowanej funkcji <a target="_blank" href="https://www.w3schools.com/python/ref_func_int.asp">int()</a>. 
        </p>
        <p>
            PoniewaÅ¼ wartoÅ›ci logiczne mogÄ… byÄ‡ interpretowane jako liczby caÅ‚kowite (0 dla <b class="code">False</b>, 1 dla <b class="code">True</b>), moÅ¼na uÅ¼yÄ‡ wartoÅ›ci <b class="code">dot</b> jako indeksu krotki z dwiema funkcjami i poÅ‚Ä…czyÄ‡ z powyÅ¼szym wyraÅ¼eniem w nawiasie jako argumentem.
        </p>
        <pre class="brush: python">
return (int, float)[dot](sign + res)
        </pre>
        <p>
            ProszÄ™ zauwaÅ¼yÄ‡, Å¼e odnosi siÄ™ Pan do funkcji wewnÄ…trz pierwszego nawiasu, a nie je wywoÅ‚uje, wiÄ™c nie ma nawiasÃ³w obok kaÅ¼dej funkcji.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak wiÄ™c powinno wyglÄ…daÄ‡ moje ostateczne rozwiÄ…zanie?
    </div>
    <div class="answer">
        <p>
            Wystarczy poÅ‚Ä…czyÄ‡ wszystkie poprzednie podpowiedzi i zawinÄ…Ä‡ kod w wyraÅ¼enie funkcyjne. UÅ¼ywanie podpowiedzi typu dla danych wejÅ›ciowych i wyjÅ›ciowych jest wysoce zalecane.
        </p>
        <p>PoniÅ¼ej znajduje siÄ™ caÅ‚e rozwiÄ…zanie:</p>
        <div class="spoiler">
        <pre class="brush: python">
def reveal_num(line: str) -> int | float | None:

    res = sign = ""
    dot = False
    for char in line:
        if char in "+-" and not res:
            sign = "-"*(char == "-")
        elif char == "." and not dot:
            dot = True
            res += "."
        elif char.isdigit():
            res += char
    if res:
        return (int, float)[dot](sign + res)
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        ProszÄ™ pokazaÄ‡ mi wiÄ™cej rozwiÄ…zaÅ„!<br />
        bo chcÄ™ byÄ‡ prawdziwÄ… ğŸ¥‡ Python Ninnjaa!
    </div>
    <div class="answer">
        <p>Jasne, proszÄ™ Å‚apaÄ‡!</p>
        <p>
            Za pomocÄ… moduÅ‚u wyraÅ¼eÅ„ regularnych znalazÅ‚em ostatni znak przed pierwszÄ… cyfrÄ…, podzieliÅ‚em podany ciÄ…g miÄ™dzy kropki i zbudowaÅ‚em koÅ„cowe wyraÅ¼enie.
        </p>
        <div class="spoiler">
        <pre class="brush: python">
from re import sub


def reveal_num(line: str) -> int | float | None:

    sign = sub(r'\D*(\+|-).*', r'\1', '+' + line)
    p1, *p2 = sub(r'[^0-9.]', r'', line).split('.')

    return eval(f'{sign}{p1}.{"".join(p2)}') if p1 or p2 else None
        </pre>
        </div>
        <p>ProszÄ™ kliknÄ…Ä‡ <b>Best Solutions</b> w menu misji i zobaczyÄ‡ wiele innych ciekawych rozwiÄ…zaÅ„!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        DziÄ™ki! Teraz wiem i rozumiem wiÄ™cej! Wszystko dziaÅ‚a jak naleÅ¼y!
    </div>
    <div class="answer">
        MiÅ‚o mi to sÅ‚yszeÄ‡ ğŸ‘!
    </div>
</div>
</body>